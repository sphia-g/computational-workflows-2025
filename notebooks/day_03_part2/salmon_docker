FROM debian:bullseye-slim

LABEL image.author.name="yourname"
LABEL image.author.email="yourmail"

# Install dependencies
RUN apt-get update && apt-get install -y \
    curl \
    tar \
    && apt-get clean && rm -rf /var/lib/apt/lists/*

# Download and install Salmon with its libraries
RUN curl -L https://github.com/COMBINE-lab/salmon/releases/download/v1.5.2/salmon-1.5.2_linux_x86_64.tar.gz -o salmon.tar.gz && \
    tar -xzf salmon.tar.gz && \
    cp salmon-1.5.2_linux_x86_64/bin/* /usr/local/bin/ && \
    cp salmon-1.5.2_linux_x86_64/lib/* /usr/local/lib/ && \
    rm -rf salmon.tar.gz salmon-1.5.2_linux_x86_64

# Update library path so the system can find the libraries
RUN ldconfig

# Set the PATH environment variable
ENV PATH="/usr/local/bin:$PATH"
ENV LD_LIBRARY_PATH="/usr/local/lib:$LD_LIBRARY_PATH"